# シェルスクリプト解説

## 概要
StatVizForge_JikkenPyプロジェクトのバックエンド・フロントエンドサービス、およびFireFoxブラウザをバックグラウンドで管理するためのシェルスクリプト群です。

## スクリプト一覧

### 1. start-services.sh - サービス起動スクリプト
バックエンドとフロントエンドの両方をバックグラウンドで起動します。

**機能：**
- Djangoバックエンドサーバーを8000番ポートで起動
- Next.jsフロントエンドサーバーを3000番ポートで起動
- 各プロセスのPIDを`.backend.pid`と`.frontend.pid`に保存
- ログは`logs/backend.log`と`logs/frontend.log`に出力

**使用方法：**
```bash
cd /home/futaro/project/StatVizForge_JikkenPy
./操作メモ/シェルスクリプト/start-services.sh
```

### 2. stop-services.sh - サービス終了スクリプト
起動中のバックエンドとフロントエンドのプロセスを終了します。

**機能：**
- Python（Django）とNode.js（Next.js）のプロセスを検索
- 該当するプロセスを強制終了
- プロセスが見つからない場合はメッセージを表示

**使用方法：**
```bash
cd /home/futaro/project/StatVizForge_JikkenPy
./操作メモ/シェルスクリプト/stop-services.sh
```

### 3. start-firefox.sh - FireFoxバックグラウンド起動スクリプト
FireFoxブラウザをバックグラウンドで起動します。

**機能：**
- FireFoxのインストール確認
- バックグラウンドでFireFoxを起動
- プロセスIDを`~/.firefox.pid`に保存
- 特定のURLで起動するオプション付き（コメントアウト済み）

**使用方法：**
```bash
cd /home/futaro/project/StatVizForge_JikkenPy
./操作メモ/シェルスクリプト/start-firefox.sh
```

## 使用例

### プロジェクト全体の起動手順
```bash
# 1. プロジェクトディレクトリに移動
cd /home/futaro/project/StatVizForge_JikkenPy

# 2. バックエンド・フロントエンドを起動
./操作メモ/シェルスクリプト/start-services.sh

# 3. ブラウザを起動（必要に応じて）
./操作メモ/シェルスクリプト/start-firefox.sh
```

### プロジェクト全体の終了手順
```bash
# サービスを停止
cd /home/futaro/project/StatVizForge_JikkenPy
./操作メモ/シェルスクリプト/stop-services.sh
```

## 注意事項

1. **権限について**
   - 初回使用時は実行権限が必要です（既に付与済み）
   - 権限がない場合は以下のコマンドを実行：
   ```bash
   chmod +x /home/futaro/project/StatVizForge_JikkenPy/操作メモ/シェルスクリプト/*.sh
   ```

2. **ログファイル**
   - バックエンドログ: `/home/futaro/project/StatVizForge_JikkenPy/logs/backend.log`
   - フロントエンドログ: `/home/futaro/project/StatVizForge_JikkenPy/logs/frontend.log`

3. **ポート番号**
   - バックエンド: http://localhost:8000
   - フロントエンド: http://localhost:3000

4. **プロセス管理**
   - `stop-services.sh`は`grep`を使用してプロセスを検索するため、類似した名前のプロセスも終了する可能性があります
   - 確実に特定のプロセスのみを終了したい場合は、PIDファイルを利用した停止方法を検討してください

## トラブルシューティング

### サービスが起動しない場合
```bash
# ポートが使用中かチェック
lsof -i :8000
lsof -i :3000

# プロセスが残っているかチェック
ps aux | grep -E 'python.*manage.py|node.*next'
```

### ログを確認する
```bash
# バックエンドログの確認
tail -f /home/futaro/project/StatVizForge_JikkenPy/logs/backend.log

# フロントエンドログの確認
tail -f /home/futaro/project/StatVizForge_JikkenPy/logs/frontend.log
```

### 手動でプロセスを終了する
```bash
# プロセスIDを確認
ps aux | grep -E 'python.*manage.py|node.*next'

# 特定のプロセスを終了
kill -9 [PID]
```