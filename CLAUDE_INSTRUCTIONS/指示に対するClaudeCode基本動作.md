# このルールに従うこと、このリンク先まで確認のこと

# 開始指示時実施項目
1. doc/history/session_YYYYMMDD.md ファイルを作成し、実施事項を追記。すでにある場合はこのファイルに追記。  
1. 新しいブランチを作成し、ユーザーとの対話の都度更新する

# API確認時
APIの確認やテストに指示されたときの対応
テストは　CLAUDE_INSTRUCTIONS/test_generation_rules.md　参照
1. APIの一覧を作成する。  
1. doc/APIja.md　ほかAPIの一覧を更新  
1. APIの命名規則や仕様をチェック。ユーザーに改善提案  
1. ユーザーの指示をうけ変更
1. テストの作成  
1. **必須**: フロントエンド・バックエンドAPI整合性テストの実施
   - test_generation_rules.md の「## 12. 必須: フロントエンド・バックエンドAPI整合性テスト」に従って実行
   - エンドポイント網羅性テスト
   - 型整合性テスト  
   - HTTPメソッド・ステータスコード整合性テスト
   - APIバージョニング整合性テスト
1. doc/APIja.md　ほかAPIの一覧を更新  
1. mainにブランチをマージし、githubにコミット＆プッシュ
1. テストの実行  
1. テストを行いながら問題点があった場合は全てがOKになるまで繰り返す  
1. テスト及び改善点、結果はdoc/history/test_YYYYMMDD.md　に記録
1. **必須**: API整合性テスト結果をdoc/history/api_integration_YYYYMMDD.mdに記録
1. テストが終わったら、mainにブランチをマージし、githubにコミット＆プッシュ
1. 新しいブランチを作成し、以後は一つの指示がある都度コミットする。


# プログラム修正指示時
　CLAUDE_INSTRUCTIONS/auto_branch_workflow.md　を参照
1. 指示毎にコミットする。  
1. doc/history/session_YYYYMMDD.md ファイルを作成し、実施事項を追記。すでにある場合はこのファイルに追記。  
1. **APIに関連する修正の場合**: フロントエンド・バックエンドAPI整合性テストを実施
   - test_generation_rules.md の「## 12. 必須: フロントエンド・バックエンドAPI整合性テスト」に従って実行
   - 修正がAPIに影響する場合は必ずテスト実行
   - 結果をdoc/history/api_integration_YYYYMMDD.mdに記録
1. ユーザーに確認を促すときは全てのサービスをシャットダウンし、新規プロセスで試す。  
1. ユーザーから確認を依頼された場合も同様に全てのサービスをシャットダウンし、新規プロセスで試す。  

# 終了指示事
上記ファイルの更新を確認し終了する。